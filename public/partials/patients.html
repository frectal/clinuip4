<section>
    <div class="row">
        <div class="col-sm-5 col-md-3">
            <blockquote>
                <p>Male/Female Patients</p>
            </blockquote>
            <div id="chartContainer" style="height: 200px"></div>
        </div>
        <div class="col-sm-7 col-md-4">
            <blockquote>
                <p>Patients<b>{{ chosenGender ? ': ' + chosenGender : '' }}</b></p>
            </blockquote>
            <div ng-show="chosenGender">
                <input ng-model="patientFilter" type="text" class="form-control" placeholder="filter" style="margin-bottom: 5px">
                <table class="table table-bordered table-hover table-striped">
                    <thead>
                    <tr>
                        <th>Name</th>
                        <th style="width: 80px;">Sex</th>
                        <th style="width: 60px;">Age</th>
                        <th style="width: 20px;"></th>
                    </tr>
                    </thead>
                    <tbody>
                        <tr style="cursor: pointer" ng-repeat="patient in patients track by $id($index)" ng-click="showDetails(patient._id, patient.name)">
                            <td>{{ patient.name }}</td>
                            <td>{{ patient.sex }}</td>
                            <td>{{ patient.age }}</td>
                            <td><i class="fa fa-pencil-square-o" ng-click="editPatient(patient); $event.stopPropagation();"></i></td>
                        </tr>
                    </tbody>
                </table>
                <button type="button" class="btn btn-primary pull-right" ng-click="addPatient()">Add Patient</button>
            </div>
        </div>
        <div class="col-sm-12 col-md-5">
            <blockquote>
                <p>Patients Details<b>{{ selectedPatient ? ': ' + selectedPatient.name : '' }}</b></p>
            </blockquote>
            <div ng-show="selectedPatient">
                <input ng-model="detailFilter" type="text" class="form-control" placeholder="filter" style="margin-bottom: 5px">
                <table class="table table-bordered table-hover table-striped">
                    <thead>
                        <tr>
                            <th style="width: 50px;">ID</th>
                            <th>Data</th>
                            <th style="width: 20px;"></th>
                            <th style="width: 20px;"></th>
                        </tr>
                    </thead>
                    <tbody>
                    <tr ng-repeat="detail in details">
                            <td>{{ detail.no }}</td>
                            <td>{{ detail.details.join(', ') }}</td>
                            <td><i class="fa fa-pencil-square-o" ng-click="editDetails(detail._id)"></i></td>
                            <td><i class="fa fa-times" ng-click="deleteDetails(detail._id)"></i></td>
                        </tr>
                    </tbody>
                </table>
                <button type="button" class="btn btn-primary pull-right" ng-click="addDetails()">Add Patient Data</button>
            </div>
        </div>
    </div>

    <div class="modal fade" id="patientModal">
        <div class="modal-dialog">
            <div class="modal-content">
              <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                <h4 class="modal-title">{{ patientModalTitle }}</h4>
              </div>
              <div class="modal-body">
                <form class="form-horizontal" role="form">
                    <div class="form-group">
                        <label for="identifier" class="col-sm-3 control-label" required>Patient Identifier</label>
                        <div class="col-sm-9">
                            <input ng-model="patientModal.identifier" type="text" class="form-control" id="identifier" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="name" class="col-sm-3 control-label" required>Patient Name</label>
                        <div class="col-sm-9">
                            <input ng-model="patientModal.name" type="text" class="form-control" id="name" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="dob" class="col-sm-3 control-label" required>DOB</label>
                        <div class="col-sm-9">
                            <input ng-model="patientModal.dob" type="text" class="form-control" id="dob" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="sex" class="col-sm-3 control-label" required>Sex</label>
                        <div class="col-sm-9">
                            <select class="form-control" ng-model="patientModal.sex" id="sex">
                              <option>Female</option>
                              <option>Male</option>
                            </select>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="author" class="col-sm-3 control-label" required>Author</label>
                        <div class="col-sm-9">
                            <input ng-model="patientModal.author" type="text" class="form-control" id="author" required>
                        </div>
                    </div>


                </form>
              </div>
              <div class="modal-footer">
                <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-primary">Save</button>
              </div>
            </div>
        </div>
    </div>

    <!-- HTML Form for adding new patient -->
    <form class="form-horizontal form-add-patient" role="form" style="display: none">
        <div class="form-group">
            <label for="name" class="col-sm-2 control-label" required>Name</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="name" placeholder="Full name" required>
            </div>
        </div>
        <div class="form-group">
            <label for="test1" class="col-sm-2 control-label">Phone</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="test1" placeholder="Phone">
            </div>
        </div>
        <div class="form-group">
            <label for="test2" class="col-sm-2 control-label">Email</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="test2" placeholder="Email">
            </div>
        </div>
        <div class="form-group">
            <label for="test3" class="col-sm-2 control-label">Address</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="test3" placeholder="Address">
            </div>
        </div>
        <div class="form-group">
            <label for="test3" class="col-sm-2 control-label">Web</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="test4" placeholder="Web">
            </div>
        </div>
    </form>
    <!-- HTML Form for adding new patient details -->
    <form class="form-horizontal form-add-details" role="form" style="display: none">
        <div class="form-group">
            <label for="name" class="col-sm-2 control-label" required>Details</label>
            <div class="col-sm-10">
                <input type="text" class="form-control" id="tokenfield" />
            </div>
        </div>
    </form>

</section>